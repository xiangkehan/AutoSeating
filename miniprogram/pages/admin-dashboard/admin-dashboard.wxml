<!--ç®¡ç†å‘˜ä»ªè¡¨ç›˜é¡µé¢-->
<view class="dashboard-container">
  <!-- å¤´éƒ¨ä¿¡æ¯ -->
  <view class="header">
    <view class="welcome">
      <text class="title">æ¬¢è¿ï¼Œ{{adminInfo.name}}</text>
      <text class="role">{{getRoleText(adminInfo.role)}}</text>
    </view>
    <view class="logout" bindtap="onLogout">
      <text>é€€å‡ºç™»å½•</text>
    </view>
  </view>

  <!-- ç»Ÿè®¡ä¿¡æ¯ -->
  <view class="stats-section">
    <view class="stats-title">ç³»ç»Ÿæ¦‚è§ˆ</view>
    <view class="stats-grid">
      <view class="stat-item">
        <text class="stat-number">{{stats.activeSession || 0}}</text>
        <text class="stat-label">æ´»è·ƒä¼šè¯</text>
      </view>
      <view class="stat-item">
        <text class="stat-number">{{stats.totalStudents || 0}}</text>
        <text class="stat-label">å­¦ç”Ÿæ€»æ•°</text>
      </view>
      <view class="stat-item">
        <text class="stat-number">{{stats.completedArrangements || 0}}</text>
        <text class="stat-label">å·²å®Œæˆæ’åº§</text>
      </view>
      <view class="stat-item">
        <text class="stat-number">{{stats.totalWishes || 0}}</text>
        <text class="stat-label">æ„æ„¿æ€»æ•°</text>
      </view>
    </view>
  </view>

  <!-- åŠŸèƒ½æ¨¡å— -->
  <view class="modules-section">
    <view class="module-title">åŠŸèƒ½æ¨¡å—</view>
    
    <!-- åŸºç¡€ç®¡ç†åŠŸèƒ½ -->
    <view class="module-group">
      <view class="group-title">åŸºç¡€ç®¡ç†</view>
      <view class="module-grid">
        <view class="module-item" bindtap="navigateTo" data-page="admin-wish">
          <view class="module-icon">ğŸ“</view>
          <text class="module-name">å‚ä¸æ’åº§</text>
          <text class="module-desc">å¡«å†™ä¸ªäººæ„æ„¿</text>
        </view>
        <view class="module-item" bindtap="navigateTo" data-page="view-results">
          <view class="module-icon">ğŸ“Š</view>
          <text class="module-name">æŸ¥çœ‹ç»“æœ</text>
          <text class="module-desc">æ’åº§ç»“æœæŸ¥çœ‹</text>
        </view>
      </view>
    </view>

    <!-- æ’åº§ç®¡ç†åŠŸèƒ½ (ä»…æ’åº§è´Ÿè´£äººå¯è§) -->
    <view class="module-group" wx:if="{{adminInfo.role === 'seat_manager'}}">
      <view class="group-title">æ’åº§ç®¡ç†</view>
      <view class="module-grid">
        <view class="module-item" bindtap="navigateTo" data-page="session-management">
          <view class="module-icon">âš™ï¸</view>
          <text class="module-name">ä¼šè¯ç®¡ç†</text>
          <text class="module-desc">åˆ›å»ºå’Œç®¡ç†æ’åº§ä¼šè¯</text>
        </view>
        <view class="module-item" bindtap="navigateTo" data-page="student-management">
          <view class="module-icon">ğŸ‘¥</view>
          <text class="module-name">å­¦ç”Ÿç®¡ç†</text>
          <text class="module-desc">ç»´æŠ¤å­¦ç”Ÿä¿¡æ¯</text>
        </view>
        <view class="module-item" bindtap="navigateTo" data-page="classroom-management">
          <view class="module-icon">ğŸ«</view>
          <text class="module-name">æ•™å®¤ç®¡ç†</text>
          <text class="module-desc">é…ç½®æ•™å®¤å¸ƒå±€</text>
        </view>
        <view class="module-item" bindtap="navigateTo" data-page="execute-arrangement">
          <view class="module-icon">ğŸ¯</view>
          <text class="module-name">æ‰§è¡Œæ’åº§</text>
          <text class="module-desc">è¿è¡Œæ’åº§ç®—æ³•</text>
        </view>
      </view>
    </view>
  </view>

  <!-- æœ€è¿‘æ´»åŠ¨ -->
  <view class="activity-section">
    <view class="activity-title">æœ€è¿‘æ´»åŠ¨</view>
    <view class="activity-list">
      <view class="activity-item" wx:for="{{recentActivities}}" wx:key="id">
        <view class="activity-time">{{item.time}}</view>
        <view class="activity-content">{{item.content}}</view>
      </view>
      <view class="no-activity" wx:if="{{!recentActivities.length}}">
        <text>æš‚æ— æœ€è¿‘æ´»åŠ¨</text>
      </view>
    </view>
  </view>
</view>